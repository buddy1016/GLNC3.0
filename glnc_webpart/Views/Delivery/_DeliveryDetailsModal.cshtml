@model glnc_webpart.Models.Delivery

<div class="row">
    <div class="col-md-6">
        <p><strong>ID:</strong> @Model.Id</p>
        <p><strong>Client:</strong> @Model.Client</p>
        <p><strong>Address:</strong> @Model.Address</p>
        <p><strong>Contacts:</strong> @Model.Contacts</p>
        <p><strong>Invoice:</strong> @Model.Invoice</p>
        <p><strong>Supplier:</strong> @(Model.Supplier?.SupplierName ?? "N/A")</p>
    </div>
    <div class="col-md-6">
        <p><strong>Appointment Date:</strong> @Model.DateTimeAppointment.ToString("yyyy-MM-dd HH:mm")</p>
        <p><strong>Leave Date:</strong> @Model.DateTimeLeave.ToString("yyyy-MM-dd HH:mm")</p>
        <p><strong>Accept Date:</strong> @(Model.DateTimeAccept?.ToString("yyyy-MM-dd HH:mm") ?? "Not accepted")</p>
        <p><strong>Arrival Date:</strong> @(Model.DateTimeArrival?.ToString("yyyy-MM-dd HH:mm") ?? "Not arrived")</p>
        <p><strong>Weight:</strong> @Model.Weight kg</p>
        <p><strong>Return Flag:</strong> @(Model.ReturnFlag ? "Yes" : "No")</p>
    </div>
</div>
@if (!string.IsNullOrEmpty(Model.Comment))
{
    <div class="mt-3">
        <strong>Comment:</strong>
        <p>@Model.Comment</p>
    </div>
}
@if (!string.IsNullOrEmpty(Model.SignClient))
{
    <div class="mt-3">
        <strong>Client Signature:</strong>
        <div class="mt-2">
            @{
                string signatureSrc = "";
                if (Model.SignClient.StartsWith("data:image"))
                {
                    signatureSrc = Model.SignClient;
                }
                else if (Model.SignClient.StartsWith("http://") || Model.SignClient.StartsWith("https://"))
                {
                    signatureSrc = Model.SignClient;
                }
                else
                {
                    signatureSrc = "data:image/png;base64," + Model.SignClient;
                }
            }
            <img src="@signatureSrc" alt="Client Signature" class="img-fluid" style="max-width: 100%; border: 1px solid #ddd; border-radius: 4px; padding: 5px; background-color: #fff;" />
        </div>
    </div>
}

